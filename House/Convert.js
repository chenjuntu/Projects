function ObjectID(s){
    return s;
}

function ISODate(s){
    return s;
}

var input = {
    "_id": ObjectID("5825b7445c72307bd22aeed2"),
    "@attributes": {
        "ID": "17574132",
        "LastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
    },
    "ListingID": "W3652323",
    "AgentDetails": {
        "@attributes": {
            "ID": "1407774"
        },
        "Name": "KATHERINE MAUREEN BARNETT",
        "Phones": {
            "Phone": "(416) 856-5161"
        },
        "Websites": {
            "Website": [
                "http://www.katherinebarnett.com",
                "http://www.facebook.com/pages/Katherine-Barnett-broker-at-ReMax-Realty-Specialists-Inc/1849446115280",
                "http://www.linkedin.com/in/katherinembarnett",
                "https://twitter.com/KatherinBarnett"
            ]
        },
        "Office": {
            "@attributes": {
                "ID": "51436"
            },
            "Name": "RE/MAX REALTY SPECIALISTS INC.",
            "Address": {
                "StreetAddress": "6850 MILLCREEK DRIVE",
                "AddressLine1": "6850 MILLCREEK DRIVE",
                "City": "MISSISSAUGA",
                "Province": "ON",
                "PostalCode": "L5N4J9"
            },
            "Phones": {
                "Phone": [
                    "(905) 858-3434",
                    "(905) 858-2682"
                ]
            },
            "Franchisor": "RE/MAX Ontario Atlantic Canada Inc"
        },
        "Position": "Broker"
    },
    "Board": "85",
    "Business": [],
    "Building": {
        "BathroomTotal": "2",
        "BedroomsTotal": "3",
        "BedroomsAboveGround": "3",
        "Amenities": "Party Room",
        "BasementDevelopment": "Finished",
        "BasementType": "N/A (Finished)",
        "CoolingType": "Central air conditioning",
        "ExteriorFinish": "Aluminum siding, Brick",
        "FireplacePresent": "False",
        "HeatingFuel": "Natural gas",
        "HeatingType": "Forced air",
        "Rooms": {
            "Room": [
                {
                    "Type": "Living room",
                    "Width": "3.32 m",
                    "Length": "5.55 m",
                    "Level": "Second level",
                    "Dimension": "5.55 m x 3.32 m"
                },
                {
                    "Type": "Dining room",
                    "Width": "2.97 m",
                    "Length": "3.47 m",
                    "Level": "Third level",
                    "Dimension": "3.47 m x 2.97 m"
                },
                {
                    "Type": "Kitchen",
                    "Width": "3.21 m",
                    "Length": "3.45 m",
                    "Level": "Third level",
                    "Dimension": "3.45 m x 3.21 m"
                },
                {
                    "Type": "Laundry room",
                    "Width": "1.96 m",
                    "Length": "2.16 m",
                    "Level": "Third level",
                    "Dimension": "2.16 m x 1.96 m"
                },
                {
                    "Type": "Master bedroom",
                    "Width": "3.44 m",
                    "Length": "4.84 m",
                    "Level": "Upper Level",
                    "Dimension": "4.84 m x 3.44 m"
                },
                {
                    "Type": "Bedroom 2",
                    "Width": "2.69 m",
                    "Length": "3.95 m",
                    "Level": "Upper Level",
                    "Dimension": "3.95 m x 2.69 m"
                },
                {
                    "Type": "Bedroom 3",
                    "Width": "2.74 m",
                    "Length": "3.18 m",
                    "Level": "Upper Level",
                    "Dimension": "3.18 m x 2.74 m"
                },
                {
                    "Type": "Recreational, Games room",
                    "Width": "3.16 m",
                    "Length": "3.69 m",
                    "Level": "Basement",
                    "Dimension": "3.69 m x 3.16 m"
                }
            ]
        },
        "SizeInterior": [],
        "Type": "Row / Townhouse"
    },
    "Land": {
        "Acreage": "false",
        "Amenities": "Park, Public Transit, Schools"
    },
    "Address": {
        "StreetAddress": "#4 - 650 CHILDS DR",
        "AddressLine1": "#4 - 650 CHILDS DR",
        "City": "Milton",
        "Province": "Ontario",
        "PostalCode": "L9T3N8",
        "Country": "Canada",
        "CommunityName": "Timberlea"
    },
    "AmmenitiesNearBy": "Park, Public Transit, Schools",
    "ListingContractDate": "10/11/2016",
    "MaintenanceFee": "315.35",
    "MaintenanceFeePaymentUnit": "Monthly",
    "ManagementCompany": "Wilson Blanchard Property",
    "OwnershipType": "Condominium/Strata",
    "ParkingSpaces": {
        "Parking": {
            "Name": "Garage"
        }
    },
    "ParkingSpaceTotal": "1",
    "Photo": {
        "PropertyPhoto": [
            {
                "SequenceId": "1",
                "LastUpdated": "10/11/2016 8:41:13 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:13 GMT"
            },
            {
                "SequenceId": "2",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "3",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "4",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "5",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "6",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "7",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "8",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "9",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "10",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "11",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "12",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "13",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "14",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "15",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "16",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "17",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "18",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "19",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
            {
                "SequenceId": "20",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            }
        ]
    },
    "PoolType": "Outdoor pool",
    "Price": "399000.00",
    "PropertyType": "Single Family",
    "PublicRemarks": "Charming 3 Bdrm Townhouse With Finished Basement Located In Sought After Timberlea. This Well Maintained Home Offers 10' Ceiling In Living Room With A W/O To A Private Patio Overlooking Mature Trees. Updated Kitchen With Tile Backsplash, Double Sink & Crisp White Cabinets. 3 Good Size Bdrms With A Beautiful Updated 4Pc Bathroom. Master Bdrm With Wall To Wall Closet & Large Windows. Finished Basement With 2 Pc Bath And Convenient 3rd Flr Laundry Rm. **** EXTRAS **** Fridge, Stove, Dishwasher,Otr Micro, Washer & Dryer, All Elf's, Window Coverings,Gdo+Remotes. Furnace & Hot Water Tank Is A Rental $144Per Mth.",
    "TransactionType": "For sale",
    "UtilitiesAvailable": [],
    "AnalyticsClick": "<![CDATA[<script type='text/javascript'>\n function redirect() { \nvar event = new RlEvent('crealocation');\nevent.viewedProperty(17574132,18765,[1407774],[51436],[1422939],[161536]);\nevent.set('event', 'type', 'click');\nevent.record();\nsetTimeout(\"window.location = 'http://www.realtor.ca/PropertyDetails.aspx?PropertyId=17574132'\",500);}\n</script>]]>",
    "AnalyticsView": "<![CDATA[<script src='http://analytics.crea.ca/crearl.js' type='text/javascript'></script>\n<script type='text/javascript'>\nvar event = new RlEvent('crealocation');\nevent.viewedProperty(17574132,18765,[1407774],[51436],[1422939],[161536]);\nevent.set('event', 'type', 'view');\nevent.record();\n</script>]]>",
    "MoreInformationLink": "http://www.realtor.ca/PropertyDetails.aspx?PropertyId=17574132"
};

var output = {
    "_id": ObjectID("5825acda5c72307ab40dc4d7"),
    "City": "Milton",
    "Washrooms": "2",
    "Retirement": "",
    "For": "Sale",
    "DOM": "1",
    "PIN#": "",
    "Pictures": [
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/1/323/W3652323.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/2/323/W3652323_2.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/3/323/W3652323_3.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/4/323/W3652323_4.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/5/323/W3652323_5.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/6/323/W3652323_6.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/7/323/W3652323_7.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/8/323/W3652323_8.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/9/323/W3652323_9.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/10/323/W3652323_10.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/11/323/W3652323_11.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/12/323/W3652323_12.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/13/323/W3652323_13.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/14/323/W3652323_14.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/15/323/W3652323_15.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/16/323/W3652323_16.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/17/323/W3652323_17.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/18/323/W3652323_18.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/19/323/W3652323_19.jpg?20161110170805",
            "description": ""
        },
        {
            "url": "http://photos.v3.torontomls.net/Live/photos/FULL/20/323/W3652323_20.jpg?20161110170805",
            "description": ""
        }
    ],
    "Elev/Lift": "",
    "Fireplace/Stv": "N",
    "Prk Lgl Dsc": "",
    "Apx Sqft": "1200-1399",
    "PostalCode": "L9T3N8",
    "Energy Cert": "",
    "Sqft Source": "Geowarehouse",
    "Client Remks": "Charming 3 Bdrm Townhouse With Finished Basement Located In Sought After Timberlea. This Well Maintained Home Offers 10' Ceiling In Living Room With A W/O To A Private Patio Overlooking Mature Trees. Updated Kitchen With Tile Backsplash, Double Sink & Crisp White Cabinets. 3 Good Size Bdrms With A Beautiful Updated 4Pc Bathroom. Master Bdrm With Wall To Wall Closet & Large Windows.  Finished Basement With 2 Pc Bath And Convenient 3rd Flr Laundry Rm.",
    "Assessment": "",
    "Lndy Lev": "Main",
    "Apx Age": "31-50",
    "Province": "Ontario",
    "Com Elem Incl": "Y",
    "Undefined": [
        "Milton",
        "Timberlea",
        "Halton",
        "456-23-A",
        "2016",
        "Condo Townhouse",
        "Multi-Level",
        "1x4xUpper, 1x2xBsmt",
        "905-858-3434"
    ],
    "_List": 399000,
    "Bldg Name": "",
    "Prop Feat": "Fenced Yard, Library, Park, Public Transit, School",
    "Address1": "650 Childs Dr",
    "Address2": "4",
    "Bedrooms": "3",
    "Zoning": "Residential",
    "Bldg Amen": "Bbqs Allowed, Outdoor Pool, Party/Meeting Room, Visitor Parking",
    "Heat": "Forced Air / Gas",
    "Contract Date": "11/10/2016",
    "Corp#": "HCP / 47",
    "Basement": "Finished",
    "Bldg Ins Incl": "Y",
    "GreenPIS": "",
    "_2dsphere": {
        "type": "Point",
        "coordinates": [
            -79.8688529,
            43.5189851
        ]
    },
    "CAC Incl": "N",
    "Rms": "7 + 1",
    "Rooms": [
        {
            "Feature2": "W/O To Patio",
            "Name": "Living",
            "Level": "2nd",
            "Feature1": "Sliding Doors",
            "Number": 1,
            "Width": "3.32",
            "Length": "5.55",
            "Feature3": ""
        },
        {
            "Feature2": "",
            "Name": "Dining",
            "Level": "3rd",
            "Feature1": "O/Looks Living",
            "Number": 2,
            "Width": "2.97",
            "Length": "3.47",
            "Feature3": ""
        },
        {
            "Feature2": "Double Sink",
            "Name": "Kitchen",
            "Level": "3rd",
            "Feature1": "Backsplash",
            "Number": 3,
            "Width": "3.21",
            "Length": "3.45",
            "Feature3": ""
        },
        {
            "Feature2": "Window",
            "Name": "Laundry",
            "Level": "3rd",
            "Feature1": "Ceramic Floor",
            "Number": 4,
            "Width": "1.96",
            "Length": "2.16",
            "Feature3": ""
        },
        {
            "Feature2": "Broadloom",
            "Name": "Master",
            "Level": "Upper",
            "Feature1": "Double Closet",
            "Number": 5,
            "Width": "3.44",
            "Length": "4.84",
            "Feature3": "Window"
        },
        {
            "Feature2": "Window",
            "Name": "2nd Br",
            "Level": "Upper",
            "Feature1": "Broadloom",
            "Number": 6,
            "Width": "2.69",
            "Length": "3.95",
            "Feature3": ""
        },
        {
            "Feature2": "Broadloom",
            "Name": "3rd Br",
            "Level": "Upper",
            "Feature1": "Window",
            "Number": 7,
            "Width": "2.74",
            "Length": "3.18",
            "Feature3": ""
        },
        {
            "Feature2": "",
            "Name": "Rec",
            "Level": "Bsmt",
            "Feature1": "Window",
            "Number": 8,
            "Width": "3.16",
            "Length": "3.69",
            "Feature3": ""
        }
    ],
    "SPIS": "N",
    "Park $/Mo": "",
    "Taxes Incl": "N",
    "A/C": "Central Air",
    "Pets Perm": "Restrict",
    "Level": "1",
    "Unit#": "4",
    "Park Type": "Owned",
    "UFFI": "",
    "List": "$399,000",
    "Exposure": "W",
    "Taxes": "$1,854.79",
    "MLS#": "W3652323",
    "Locker": "None",
    "Kitchens": "1",
    "Ens Lndry": "Y",
    "Cert Level": "",
    "Locker#": "",
    "Fam Rm": "N",
    "Central Vac": "",
    "Heat Incl": "N",
    "Park Spcs": "1",
    "Dir/Cross St": "Ontario/Childs",
    "Prop Mgmt": "Wilson Blanchard Property",
    "Hydro Incl": "N",
    "Prkg Incl": "Y",
    "Cable TV Incl": "N",
    "_active": true,
    "Status Cert": "N",
    "Maint": "$315.35",
    "_Contract_Date": ISODate("2016-11-10T00:00:00.000Z"),
    "#Shares%": "",
    "Extras": "Fridge, Stove, Dishwasher,Otr Micro, Washer & Dryer, All Elf's, Window Coverings,Gdo+Remotes. Furnace & Hot Water Tank Is A Rental $144Per Mth.",
    "Park/Drive": "Private",
    "Phys Hdp-Eqp": "",
    "Exterior": "Alum Siding / Brick",
    "Water Incl": "Y",
    "Possession": "Mid Dec",
    "Spec Desig": "Unknown",
    "Garage": "Built-In / 1.0",
    "Balcony": "None"
};
/*
            {
                "SequenceId": "1",
                "LastUpdated": "10/11/2016 8:41:13 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:13 GMT"
            },
            {
                "SequenceId": "2",
                "LastUpdated": "10/11/2016 8:41:14 PM",
                "PhotoLastUpdated": "Fri, 11 Nov 2016 01:41:14 GMT"
            },
			*/

function convert(input){
    var result = {};
	var photo_num = 0;
	var sequence_id;
	result.Pictures = new Array();
	photo_num = input.Photo.PropertyPhoto.length;
	for(var i = 1; i <= photo_num; i++)
	{
		sequence_id = i;
		if(sequence_id == 1)
		{
			result.Pictures[i-1] = ({"url": "http://photos.v3.torontomls.net/Live/photos/FULL/"+ i +"/" + input.ListingID.substring((input.ListingID.length) - 3) + "/" + input.ListingID +".jpg","description": ""});
		}
        else
        {
            result.Pictures[i-1] = ({"url": "http://photos.v3.torontomls.net/Live/photos/FULL/"+ i +"/" + input.ListingID.substring((input.ListingID.length) - 3) + "/" + input.ListingID + "_" + i + ".jpg","description": ""});
        }
	}

	result["_id"] = input["_id"];
	result.city = input.Address.City;
	result.Washrooms = input.Building.BathroomTotal;
	result.For = input.TransactionType;
	result["Fireplace/Stv"] = "N";
	if(input.Building.FireplacePresent.toLowerCase() == "true")
		result["Fireplace/Stv"] = "Y";
	result.PostalCode = input.Address.PostalCode;
	result["Client Remks"] = input.PublicRemarks;
	result.Province = input.Address.Province;
	result["_List"] = input.Price;
	
	
    return result;
}

console.log(convert(input));